{% form 'product', product, class: 'card-product__form' %}
    {% if product.available and product.variants.size > 1 %}
        <variant-selects
            class='swatch-wrap'
            data-section='{{ section.id }}-{{ product.id }}'
            data-url='{{ product.url }}'
            {{ block.shopify_attributes }}
        >
            {% render 'swatch' for product.options as swatch, product: product %}

            <script type='application/json'>
                {{ product.variants | json }}
            </script>

            <select
                name='id'
                id='ProductSelect-{{ product.id }}'
                class='card-product__variants no-js'
                data-product-select
            >
                {% for variant in product.variants %}
                    {% if variant.available %}
                        <option
                            {% if variant == product.selected_or_first_available_variant %}
                                selected='selected'
                            {% endif %}
                            data-sku='{{ variant.sku }}'
                            value='{{ variant.id }}'
                        >
                            {{ variant.title }} - {{ variant.price | money_with_currency }}
                        </option>

                    {% else %}
                        <option disabled='disabled'>{{ variant.title }} - {{ 'products.product.sold_out' | t }}</option>
                    {% endif %}
                {% endfor %}
            </select>
            <div>
                <quantity-input class='quantity'>
                    <button class='quantity__button quantity__button--minus no-js-hidden' name='minus' type='button'>
                        <span class='visually-hidden'>Decrease quantity for Liveli Scallop Hem Sports Bra</span>
                        {% render 'icon-minus' %}
                    </button>
                    <input
                        class='quantity__input quantity-selector js-quantity'
                        type='number'
                        name='quantity'
                        id='Quantity-{{ product.id }}'
                        min='1'
                        step='1'
                        value='1'
                        max='null'
                    >
                    <button class='quantity__button quantity__button--plus no-js-hidden' name='plus' type='button'>
                        <span class='visually-hidden'>Increase quantity for Liveli Scallop Hem Sports Bra</span>
                        {% render 'icon-plus' %}
                    </button>
                </quantity-input>
            </div>
            <button
                type='submit'
                name='add'
                id='AddToCart-{{ product.id }}'
                class='button--secondary js-btn-cart'
            >
                <span id='AddToCartText'>{{ 'products.product.add_to_cart' | t }}</span>
            </button>
        </variant-selects>
    {% else %}
        <select
            name='id'
            id='ProductSelect-{{ product.id }}'
            class='card-product__variants no-js'
            data-product-select
        >
            {% for variant in product.variants %}
                {% if variant.available %}
                    <option
                        {% if variant == product.selected_or_first_available_variant %}
                            selected='selected'
                        {% endif %}
                        data-sku='{{ variant.sku }}'
                        value='{{ variant.id }}'
                    >
                        {{ variant.title }} - {{ variant.price | money_with_currency }}
                    </option>

                {% else %}
                    <option disabled='disabled'>{{ variant.title }} - {{ 'products.product.sold_out' | t }}</option>
                {% endif %}
            {% endfor %}
        </select>
        <div>
            <quantity-input class='quantity'>
                <button class='quantity__button quantity__button--minus' name='minus' type='button'>
                    {% render 'icon-minus' %}
                </button>
                <input
                    class='quantity__input js-quantity'
                    type='number'
                    name='quantity'
                    id='Quantity-{{ product.id }}'
                    min='1'
                    step='1'
                    value='1'
                    max='null'
                >
                <button class='quantity__button quantity__button--plus' name='plus' type='button'>
                    {% render 'icon-plus' %}
                </button>
            </quantity-input>
        </div>
        <button
            type='submit'
            name='add'
            id='AddToCart-{{ product.id }}'
            class='button--secondary'
        >
            <span id='AddToCartText'>{{ 'products.product.add_to_cart' | t }}</span>
        </button>
    {% endif %}
    <div data-ajax-cart-messages='form'></div>
{% endform %}
